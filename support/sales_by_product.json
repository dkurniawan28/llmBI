{
  "collection_name": "sales_by_product",
  "description": "Pre-aggregated sales data grouped by product for product analysis",
  "purpose": "Optimized collection for product performance queries",
  "source": "Aggregated from transaction_sale collection",
  "update_frequency": "Real-time when transaction_sale changes", 
  "schema": [
    {
      "field": "_id",
      "type": "ObjectId",
      "description": "MongoDB unique identifier"
    },
    {
      "field": "product_name",
      "type": "String",
      "description": "Product name",
      "index": true
    },
    {
      "field": "product_category",
      "type": "String",
      "description": "Product category name",
      "index": true
    },
    {
      "field": "total_quantity_sold",
      "type": "Int32",
      "description": "Total quantity sold across all transactions"
    },
    {
      "field": "total_revenue",
      "type": "Double",
      "description": "Total revenue generated by this product"
    },
    {
      "field": "total_transactions",
      "type": "Int32",
      "description": "Number of transactions containing this product"
    },
    {
      "field": "average_price",
      "type": "Double",
      "description": "Average selling price"
    },
    {
      "field": "locations_sold",
      "type": "Array",
      "description": "List of locations where this product was sold"
    },
    {
      "field": "months_active",
      "type": "Array",
      "description": "List of months with sales for this product"
    },
    {
      "field": "years_active",
      "type": "Array",
      "description": "List of years with sales for this product"
    },
    {
      "field": "best_performing_location",
      "type": "String",
      "description": "Location with highest sales for this product"
    },
    {
      "field": "last_sale_date",
      "type": "String",
      "description": "Most recent sale date (DD/MM/YYYY)"
    },
    {
      "field": "last_updated",
      "type": "Date",
      "description": "When this record was last updated"
    }
  ],
  "sample_queries": [
    "best selling products",
    "product performance",
    "top products by revenue",
    "product category analysis"
  ]
}